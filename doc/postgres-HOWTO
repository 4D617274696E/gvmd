OPENVAS-MANAGER POSTGRESQL BACKEND HOWTO
========================================

WARNING: This is work in progress, and far from ready for any realistic use.

1 Install Postgres.

	(Debian: postgresql, postgresql-contrib, postgresql-server-dev-9.1).

2 Run cmake with this additional parameter:

	-DBACKEND=POSTGRESQL

3 Build Manager as usual.

4 Setup Postgres User and DB (/usr/share/doc/postgresql-common/README.Debian.gz)

	sudo -u postgres sh
	createuser -DRS mattm       # mattm is your OS login name
	createdb -O mattm tasks

5 Setup DB extensions and permission.

	psql tasks
	create role dba with superuser noinherit;
	grant dba to mattm;

6 Run Manager as usual.

7 To run SQL on the the database.

	psql tasks

Handy script to drop all tables
-------------------------------

#!/bin/sh
psql tasks --pset pager=off -t -c "`psql tasks --pset pager=off -t -c \"select 'drop table '||schemaname||'.'||tablename||' CASCADE;' from pg_tables where schemaname = 'public' order by schemaname, tablename;\"`"
echo -n "\\d+: "
psql tasks -c "\d+"
